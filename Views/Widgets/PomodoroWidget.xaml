<UserControl x:Class="OmniShell.Views.Widgets.PomodoroWidget"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <Border x:Name="WidgetBorder" 
            Background="#1E1E38" 
            CornerRadius="10" 
            BorderBrush="#374151"
            BorderThickness="1">
        <StackPanel>
            <!-- Widget Header -->
            <Border Background="#262640" CornerRadius="10,10,0,0" Padding="12,10">
                <Grid>
                    <StackPanel Orientation="Horizontal">
                        <Path Data="M12,2 A10,10 0 1 1 2,12 M12,2 L12,12 L17,7" 
                              Stroke="#F97316" 
                              StrokeThickness="1.5"
                              Width="16" Height="16" 
                              Stretch="Uniform"
                              Margin="0,0,8,0"/>
                        <TextBlock Text="Pomodoro" 
                                   FontSize="13" 
                                   FontWeight="SemiBold"
                                   Foreground="White"/>
                    </StackPanel>
                    <TextBlock x:Name="SessionCountText" 
                               Text="0 sessions"
                               FontSize="11"
                               Foreground="#6B7280"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Timer Display -->
            <StackPanel Margin="12" HorizontalAlignment="Center">
                <TextBlock x:Name="TimerText" 
                           Text="25:00" 
                           FontSize="42" 
                           FontWeight="Bold"
                           Foreground="#F97316"
                           HorizontalAlignment="Center"/>
                <TextBlock x:Name="ModeText" 
                           Text="Focus Time" 
                           FontSize="12" 
                           Foreground="#9CA3AF"
                           HorizontalAlignment="Center"
                           Margin="0,4,0,0"/>
            </StackPanel>
            
            <!-- Progress Bar -->
            <Border Background="#0F0F23" CornerRadius="4" Height="6" Margin="12,0">
                <Border x:Name="ProgressBar"
                        Background="{StaticResource AccentGradient}"
                        CornerRadius="4"
                        HorizontalAlignment="Left"
                        Width="0"/>
            </Border>
            
            <!-- Controls -->
            <Grid Margin="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Start/Pause -->
                <Button x:Name="StartPauseButton" 
                        Grid.Column="0"
                        Click="StartPauseButton_Click"
                        Background="#262640"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="2">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bg" Background="{TemplateBinding Background}" CornerRadius="6" Padding="8">
                                <TextBlock x:Name="txt" Text="▶" FontSize="14" Foreground="#10B981" HorizontalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bg" Property="Background" Value="#333355"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                
                <!-- Reset -->
                <Button x:Name="ResetButton" 
                        Grid.Column="1"
                        Click="ResetButton_Click"
                        Background="#262640"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="2">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bg" Background="{TemplateBinding Background}" CornerRadius="6" Padding="8">
                                <TextBlock Text="↺" FontSize="14" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bg" Property="Background" Value="#333355"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                
                <!-- Skip -->
                <Button x:Name="SkipButton" 
                        Grid.Column="2"
                        Click="SkipButton_Click"
                        Background="#262640"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="2">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="bg" Background="{TemplateBinding Background}" CornerRadius="6" Padding="8">
                                <TextBlock Text="⏭" FontSize="14" Foreground="#9CA3AF" HorizontalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="bg" Property="Background" Value="#333355"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </StackPanel>
    </Border>
</UserControl>
